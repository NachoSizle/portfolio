---
// Profile Photo Component - Foto de perfil con badge flotante
import { Image } from 'astro:assets';
import ProfileImage from '../assets/profile.png';

export interface Props {
  name: string;
}

const { name } = Astro.props;
---

<div class="relative z-20 profile-photo-container">
  <div class="relative w-56 h-56 profile-photo-size">
    <!-- Outer glow ring -->
    <div class="absolute inset-0 bg-gradient-to-r from-primary/30 via-emerald-500/30 to-primary/30 rounded-full blur-xl animate-pulse"></div>
    
    <!-- Main profile container -->
    <div class="relative w-full h-full bg-gradient-to-br from-white to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-full p-4 shadow-2xl border-1 border-white/50 dark:border-gray-700/50">
      <!-- Profile Image -->
      <div class="w-full h-full rounded-full flex items-center justify-center overflow-hidden shadow-inner">
        <Image 
          src={ProfileImage} 
          alt={`${name} - Desarrollador Frontend`}
          class="w-full h-full object-cover"
          loading="eager"
          width={288}
          height={288}
        />
      </div>
    </div>
    
    <!-- Floating name badge -->
    <div class="absolute bottom-2 sm:bottom-0 left-1/2 transform -translate-x-1/2 z-30">
      <div class="bg-white dark:bg-gray-800 px-4 py-2 sm:px-6 sm:py-3 rounded-full shadow-lg border border-gray-200 dark:border-gray-700">
        <p class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white whitespace-nowrap">{name}</p>
      </div>
    </div>
  </div>
</div>

<style>
  /* El contenedor de la foto debe tener z-index medio y un fondo que tape */
  .profile-photo-container {
    position: relative;
    z-index: 15;
  }
  
  /* Desde 610px usamos el tama√±o grande de foto de perfil */
  @media (min-width: 610px) {
    .profile-photo-size {
      width: 288px !important;
      height: 288px !important;
    }
  }
</style>
